@using CustomerSupport.Models
@model CustomerSupport.Models.MServiceRequest

@{
    ViewBag.Title = "Editar Solicitud de Servicio";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<div class="card card-primary">
    <div class="card-header">
        <h3 class="card-title">@ViewBag.Title</h3>
    </div>
    <div class="card-body">

        @using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()

            <div class="m-0 row justify-content-center">
                <div class="col-md-12 form-horizontal">

                    @*@Html.ValidationSummary(true, "", new { @class = "text-danger" })*@

                    <div class="row">
                        <div class="col-md-2">
                            <div class="form-group">
                                <div class="control-label">Número de Solicitud:</div>
                                @Html.DisplayFor(model => model.IdServiceRequest)
                                @Html.HiddenFor(model => model.IdServiceRequest)
                            </div>
                        </div>
                        <div class="col-md-8"></div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <div class="control-label">Fecha de Registro:</div>
                                @Html.DisplayFor(model => model.RegisterDate, "{0:d}", new { @type = "date" })
                                @Html.HiddenFor(model => model.RegisterDate)
                            </div>
                        </div>
                    </div>
                    <hr>

                    <div class="row">

                        <div class="col-md-12">

                            <div class="accordion border" id="accordionClient">
                                <div class="card collapsed-card">
                                    <div class="card-header" id="headingClient">
                                        <h2 class="mb-0">
                                            <button class="btn btn-link text-decoration-none" type="button" data-toggle="collapse" data-target="#collapseCardClient" aria-expanded="false" aria-controls="collapseClient">
                                                Datos del Cliente
                                            </button>
                                        </h2>
                                    </div>

                                    <div id="collapseCardClient" class="collapse" aria-labelledby="headingClient" data-parent="#accordionClient">

                                        <div class="card-body">

                                            <div class="row">
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <div class="control-label font-weight-bold">Código:</div>
                                                        @Html.DisplayFor(model => model.IdPerson)
                                                        @Html.HiddenFor(model => model.IdPerson)

                                                        @Html.HiddenFor(model => model.PersonClient.IdIdentificationType, new { @id = "IdIdentificationType" })
                                                        @Html.HiddenFor(model => model.PersonClient.IdentificationType, new { @id = "IdentificationType" })
                                                        @Html.HiddenFor(model => model.PersonClient.NumIdentification, new { @id = "NumIdentification" })
                                                        @Html.HiddenFor(model => model.PersonClient.Name, new { @id = "Name" })
                                                        @Html.HiddenFor(model => model.PersonClient.LastName, new { @id = "LastName" })
                                                        @Html.HiddenFor(model => model.PersonClient.Birthday, new { @value = DateTime.Now, @id = "Birthday" })
                                                        @Html.HiddenFor(model => model.PersonClient.Address, new { @id = "Address" })
                                                        @Html.HiddenFor(model => model.PersonClient.Email, new { @id = "Email" })
                                                        @Html.HiddenFor(model => model.PersonClient.IdContactType, new { @id = "IdContactType" })
                                                        @Html.HiddenFor(model => model.PersonClient.IdPosition, new { @id = "IdPosition" })
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <div class="control-label font-weight-bold">Tipo de Identificacion:</div>
                                                        @Html.DisplayFor(model => model.PersonClient.IdentificationType)
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <div class="control-label font-weight-bold">Numero de Identificacion:</div>
                                                        @Html.DisplayFor(model => model.PersonClient.NumIdentification)
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <div class="control-label font-weight-bold">Nombres:</div>
                                                        @Html.DisplayFor(model => model.PersonClient.Name)
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <div class="control-label font-weight-bold">Apellidos:</div>
                                                        @Html.DisplayFor(model => model.PersonClient.LastName)
                                                    </div>
                                                </div>
                                            </div>

                                        </div>

                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>

                    <div class="row">

                        <div class="col-md-12">

                            <div class="accordion border" id="accordionService">
                                <div class="card collapsed-card">
                                    <div class="card-header" id="headingService">
                                        <h2 class="mb-0">
                                            <button class="btn btn-link text-decoration-none" type="button" data-toggle="collapse" data-target="#collapseCardService" aria-expanded="false" aria-controls="collapseService">
                                                Datos del Servicio
                                            </button>
                                        </h2>
                                    </div>

                                    <div id="collapseCardService" class="collapse" aria-labelledby="headingService" data-parent="#accordionService">

                                        <div class="card-body">

                                            <div class="row">
                                                <div class="col-md-5">
                                                    <div class="form-group">
                                                        <div class="control-label font-weight-bold">Tipo de Servicio:</div>
                                                        @Html.DisplayFor(model => model.ServiceType)
                                                        @Html.HiddenFor(model => model.ServiceType)
                                                        @Html.HiddenFor(model => model.IdServiceType)
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <div class="control-label">Estado del Servicio:</div>
                                                        <select id="lst_ServiceStatus" class="form-control" style="width: 100%;">
                                                        </select>
                                                        @Html.HiddenFor(model => model.IdServiceStatus, new { @id = "inpIdServiceStatus" })
                                                        @Html.ValidationMessageFor(model => model.IdServiceStatus, "", new { @class = "text-danger" })
                                                    </div>
                                                </div>
                                            </div>

                                            @*Begin - vistas por tipo de servicio*@
                                            <div id="divInfoProperty">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <div class="control-label">Tipo de Propiedad:</div>
                                                            <select id="lst_PropertyType" class="form-control" style="width: 100%;">
                                                            </select>
                                                            @Html.HiddenFor(model => model.IdPropertyType, new { @id = "inpIdPropertyType" })
                                                            @Html.ValidationMessageFor(model => model.IdPropertyType, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <div class="control-label">Direccion de la Propiedad:</div>
                                                            @Html.TextAreaFor(model => model.Address, 3, 6, new { @class = "form-control" })
                                                            @Html.ValidationMessageFor(model => model.Address, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div></div>
                                                    <div class="col-md-3" id="divEstimatedValue">
                                                        <div class="form-group">
                                                            <div class="control-label">Valor Estimado:</div>
                                                            @Html.TextBoxFor(model => model.EstimatedValue, new { @class = "form-control text-right", @placeholder = "0.00" })
                                                            @Html.ValidationMessageFor(model => model.EstimatedValue, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div id="serviceCompras">
                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <div class="control-label">Precio de Compra:</div>
                                                            @Html.TextBoxFor(model => model.Price, new { @class = "form-control text-right", @placeholder = "0.00" })
                                                            @Html.ValidationMessageFor(model => model.Price, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <div class="control-label">Down payment:</div>
                                                            @Html.TextBoxFor(model => model.DownPayment, new { @class = "form-control text-right", @placeholder = "0.00" })
                                                            @Html.ValidationMessageFor(model => model.DownPayment, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <div class="control-label">Closing Cost:</div>
                                                            @Html.TextBoxFor(model => model.ClosingCost, new { @class = "form-control text-right", @placeholder = "0.00" })
                                                            @Html.ValidationMessageFor(model => model.ClosingCost, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div id="serviceConstruccionPlanos">
                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <div class="control-label">Tiene Planos?</div>

                                                            <label class="ss_radioButton">
                                                                Si
                                                                @Html.RadioButtonFor(model => model.Plane, true)
                                                                <span class="checkmark"></span>
                                                            </label>
                                                            <label class="ss_radioButton">
                                                                No
                                                                @Html.RadioButtonFor(model => model.Plane, false)
                                                                <span class="checkmark"></span>
                                                            </label>
                                                            @Html.ValidationMessageFor(model => model.Plane, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <div class="control-label">Necesita Financiamiento?</div>

                                                            <label class="ss_radioButton">
                                                                Si
                                                                @Html.RadioButtonFor(model => model.Financing, true)
                                                                <span class="checkmark"></span>
                                                            </label>
                                                            <label class="ss_radioButton">
                                                                No
                                                                @Html.RadioButtonFor(model => model.Financing, false)
                                                                <span class="checkmark"></span>
                                                            </label>
                                                            @Html.ValidationMessageFor(model => model.Financing, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row pt-2 pb-3">
                                                    <div class="col-md-12">
                                                        <div class="accordion border" id="accordionOperacion">
                                                            <div class="card collapsed-card">
                                                                <div class="card-header" id="headingOperacion">
                                                                    <h2 class="mb-0">
                                                                        <button class="btn btn-link text-decoration-none" type="button" data-toggle="collapse" data-target="#collapseCardOperacion" aria-expanded="false" aria-controls="collapseOperacion">
                                                                            Operaciones de Contrucción
                                                                        </button>
                                                                    </h2>
                                                                </div>

                                                                <div id="collapseCardOperacion" class="collapse" aria-labelledby="headingOperacion" data-parent="#accordionOperacion">

                                                                    <div class="card-body">

                                                                        <div class="row">
                                                                            <div class="col-md-3">
                                                                                <div class="form-group">
                                                                                    <div class="control-label">Operación:</div>
                                                                                    <select id="lst_ConstructionOption" class="form-control" style="width: 100%;">
                                                                                    </select>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-3">
                                                                                <div class="form-group">
                                                                                    <div class="btn_option"><a onclick="addRowConstructionOption();"><i class="fas fa-plus"></i></a></div>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                        <div class="row pt-3">
                                                                            <div class="col-md-12">
                                                                                <div class="form-group">
                                                                                    <div class="table-responsive">
                                                                                        <div class="container">

                                                                                            <table id="TConstructionOption" class="table table-bordered table-striped">
                                                                                                <thead class="font-weight-bold">
                                                                                                    <tr>
                                                                                                        <td style="display:none;">colHid_indexCell</td>
                                                                                                        <td style="display:none;">colHid_IdConstructionOption</td>
                                                                                                        <td style="display:none;">colHid_ConstructionOption</td>
                                                                                                        <td>Código</td>
                                                                                                        <td>Descripción</td>
                                                                                                        <td>Opciones</td>
                                                                                                    </tr>
                                                                                                </thead>
                                                                                                <tbody id="BodyConstructionOption">
                                                                                                    @if (Model != null)
                                                                                                    {
                                                                                                        if (Model.listConstructionOption != null)
                                                                                                        {
                                                                                                            string idRow;
                                                                                                            string idCol;
                                                                                                            string nameCol_IdConstructionOption;
                                                                                                            string nameCol_ConstructionOption;

                                                                                                            for (var i = 0; i < Model.listConstructionOption.Count; i++)
                                                                                                            {
                                                                                                                idRow = "trConstructionOption" + i.ToString();
                                                                                                                idCol = "listConstructionOption_" + i.ToString();
                                                                                                                nameCol_IdConstructionOption = "listConstructionOption[" + i.ToString() + "].IdConstructionOption";
                                                                                                                nameCol_ConstructionOption = "listConstructionOption[" + i.ToString() + "].ConstructionOption";

                                                                                                                <tr id='@idRow'>
                                                                                                                    <td style="display:none;"><input name="listConstructionOption.Index" type="hidden" value='@i' /></td>
                                                                                                                    <td style="display:none;"><input id='@idCol' name='@nameCol_IdConstructionOption' type="hidden" value='@Model.listConstructionOption[i].IdConstructionOption' /></td>
                                                                                                                    <td style="display:none;"><input id='@idCol' name='@nameCol_ConstructionOption' type="hidden" value='@Model.listConstructionOption[i].ConstructionOption' /></td>
                                                                                                                    <td>@Model.listConstructionOption[i].IdConstructionOption</td>
                                                                                                                    <td name='ConstOption'>@Model.listConstructionOption[i].ConstructionOption</td>
                                                                                                                    <td><div class="btn_option pt-0"><a onclick="deleteRowConstructionOption('@i');"><i class="far fa-trash-alt"></i></a></div></td>
                                                                                                                </tr>
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                </tbody>
                                                                                            </table>

                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                    </div>

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div id="serviceRefinanciamiento">
                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <div class="control-label">Loan Amount:</div>
                                                            @Html.TextBoxFor(model => model.LoanAmount, new { @class = "form-control text-right", @placeholder = "0.00" })
                                                            @Html.ValidationMessageFor(model => model.LoanAmount, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <div class="control-label">Deuda Actual de la Hipoteca:</div>
                                                            @Html.TextBoxFor(model => model.CurrentDebt, new { @class = "form-control text-right", @placeholder = "0.00" })
                                                            @Html.ValidationMessageFor(model => model.CurrentDebt, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div id="serviceLivingTrust">
                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <div class="control-label">Tiene Beneficiarios?</div>
                                                            @if (string.IsNullOrEmpty(Model.LivT_Beneficiaries))
                                                            {
                                                                <label class="ss_radioButton">
                                                                    Si
                                                                    @*<input id="btnRadioSI" type="radio" name="radioBeneficiaries">*@
                                                                    @Html.RadioButton("radioBeneficiaries", true, new { @id = "btnRadioSI" })
                                                                    <span class="checkmark"></span>
                                                                </label>
                                                                <label class="ss_radioButton">
                                                                    No
                                                                    @*<input id="btnRadioNO" type="radio" checked="checked" name="radioBeneficiaries">*@
                                                                    @Html.RadioButton("radioBeneficiaries", false, new { @id = "btnRadioNO", @checked = "checked" })
                                                                    <span class="checkmark"></span>
                                                                </label>
                                                            }
                                                            else
                                                            {
                                                                <label class="ss_radioButton">
                                                                    Si
                                                                    @*<input id="btnRadioSI" type="radio" name="radioBeneficiaries">*@
                                                                    @Html.RadioButton("radioBeneficiaries", true, new { @id = "btnRadioSI", @checked = "checked" })
                                                                    <span class="checkmark"></span>
                                                                </label>
                                                                <label class="ss_radioButton">
                                                                    No
                                                                    @*<input id="btnRadioNO" type="radio" checked="checked" name="radioBeneficiaries">*@
                                                                    @Html.RadioButton("radioBeneficiaries", false, new { @id = "btnRadioNO" })
                                                                    <span class="checkmark"></span>
                                                                </label>
                                                            }
                                                        </div>
                                                    </div>
                                                    <div id="divLivT_Beneficiaries" class="col-md-6">
                                                        <div class="form-group">
                                                            <div class="control-label">Beneficiarios:</div>
                                                            @Html.TextAreaFor(model => model.LivT_Beneficiaries, new { @class = "form-control", @rows = 3, @cols = 10 })
                                                            @Html.ValidationMessageFor(model => model.LivT_Beneficiaries, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row pb-3">
                                                    <div class="col-md-12">
                                                        <div class="accordion border" id="accordionAssets">
                                                            <div class="card collapsed-card">
                                                                <div class="card-header p-0" id="headingAssets">
                                                                    <h2 class="mb-0">
                                                                        <button class="btn btn-link text-decoration-none" type="button" data-toggle="collapse" data-target="#collapseCardAssets" aria-expanded="false" aria-controls="collapseAssets">
                                                                            Bienes a incluir
                                                                        </button>
                                                                    </h2>
                                                                </div>

                                                                <div id="collapseCardAssets" class="collapse" aria-labelledby="headingAssets" data-parent="#accordionAssets">

                                                                    <div class="card-body">

                                                                        <div class="col-12">
                                                                            <div class="row">
                                                                                <div class="col-md-4">
                                                                                    <div class="form-group">
                                                                                        <div class="control-label">Tipo de Bien:</div>
                                                                                        <select id="lst_Assets" class="form-control" style="width: 100%;">
                                                                                        </select>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-8">
                                                                                    <div class="form-group">
                                                                                        <div class="control-label">Descripción:</div>
                                                                                        @Html.TextArea("txtDescription", "", 3, 8, new { @maxlength = "1000", @class = "form-control" })
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="row">
                                                                                <div class="col-md-6">
                                                                                    <div class="form-group">
                                                                                        <div class="control-label">Beneficiarios con porcentaje de participacion:</div>
                                                                                        @Html.TextArea("txtBeneficiaries", "", 2, 6, new { @maxlength = "1000", @class = "form-control" })
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-5">
                                                                                    <div class="form-group">
                                                                                        <div class="control-label">Administrador en caso de venta o renta:</div>
                                                                                        @Html.TextArea("txtAdministrators", "", 2, 4, new { @maxlength = "500", @class = "form-control" })
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-1">
                                                                                    <div class="form-group">
                                                                                        <div class="btn_option"><a onclick="addRow();"><i class="fas fa-plus"></i></a></div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                        <div class="col-12">
                                                                            <div class="row pt-3">
                                                                                <div class="col-md-12">
                                                                                    <div class="form-group">
                                                                                        <div class="table-responsive">
                                                                                            <div class="container">

                                                                                                <table id="TAssets" class="table table-bordered table-striped">
                                                                                                    <thead class="font-weight-bold">
                                                                                                        <tr>
                                                                                                            <td style="display:none;">colHid_indexCell</td>
                                                                                                            <td style="display:none;">colHid_IdAsset</td>
                                                                                                            <td style="display:none;">colHid_IdServiceRequest</td>
                                                                                                            <td style="display:none;">colHid_IdAssetsType</td>
                                                                                                            <td style="display:none;">colHid_AssetsType</td>
                                                                                                            <td style="display:none;">colHid_Status</td>

                                                                                                            <td style="width: 15%;">Tipo de Bien</td>
                                                                                                            <td style="width: 30%;">Descripcion</td>
                                                                                                            <td style="width: 25%;">Beneficiarios %</td>
                                                                                                            <td style="width: 20%;">Administradores</td>

                                                                                                            <td style="width: 10%;">Opciones</td>
                                                                                                        </tr>
                                                                                                    </thead>
                                                                                                    <tbody id="BodyAssets">
                                                                                                        @if (Model != null)
                                                                                                        {
                                                                                                            if (Model.listServiceRequestAssets != null && Model.listServiceRequestAssets.Count() > 0)
                                                                                                            {
                                                                                                                string idRow;
                                                                                                                string nameCol_IdAsset;
                                                                                                                string nameCol_IdServiceRequest;
                                                                                                                string nameCol_IdAssetsType;
                                                                                                                string nameCol_AssetsType;
                                                                                                                string nameCol_Description;
                                                                                                                string nameCol_Beneficiaries;
                                                                                                                string nameCol_Administrators;
                                                                                                                string nameCol_Status;

                                                                                                                for (var i = 0; i < Model.listServiceRequestAssets.Count; i++)
                                                                                                                {
                                                                                                                    idRow = "trAssets" + i.ToString();
                                                                                                                    nameCol_IdAsset = "listServiceRequestAssets[" + i.ToString() + "].IdAsset";
                                                                                                                    nameCol_IdServiceRequest = "listServiceRequestAssets[" + i.ToString() + "].IdServiceRequest";
                                                                                                                    nameCol_IdAssetsType = "listServiceRequestAssets[" + i.ToString() + "].IdAssetsType";
                                                                                                                    nameCol_AssetsType = "listServiceRequestAssets[" + i.ToString() + "].AssetsType";
                                                                                                                    nameCol_Description = "listServiceRequestAssets[" + i.ToString() + "].Description";
                                                                                                                    nameCol_Beneficiaries = "listServiceRequestAssets[" + i.ToString() + "].Beneficiaries";
                                                                                                                    nameCol_Administrators = "listServiceRequestAssets[" + i.ToString() + "].Administrators";
                                                                                                                    nameCol_Status = "listServiceRequestAssets[" + i.ToString() + "].Status";

                                                                                                                    <tr id='@idRow'>
                                                                                                                        <td style="display:none;"><input name="listServiceRequestAssets.Index" type="hidden" value='@i' /></td>
                                                                                                                        <td style="display:none;"><input id='@nameCol_IdAsset' name='@nameCol_IdAsset' type="hidden" value='@Model.listServiceRequestAssets[i].IdAsset' /></td>
                                                                                                                        <td style="display:none;"><input id='@nameCol_IdServiceRequest' name='@nameCol_IdServiceRequest' type="hidden" value='@Model.listServiceRequestAssets[i].IdServiceRequest' /></td>
                                                                                                                        <td style="display:none;"><input id='@nameCol_IdAssetsType' name='@nameCol_IdAssetsType' type="hidden" value='@Model.listServiceRequestAssets[i].IdAssetsType' /></td>
                                                                                                                        <td style="display:none;"><input id='@nameCol_AssetsType' name='@nameCol_AssetsType' type="hidden" value='@Model.listServiceRequestAssets[i].AssetsType' /></td>
                                                                                                                        <td style="display:none;"><input id='@nameCol_Status' name='@nameCol_Status' type="hidden" value='@Model.listServiceRequestAssets[i].Status.ToString().ToLower()' /></td>

                                                                                                                        <td>@Model.listServiceRequestAssets[i].AssetsType</td>

                                                                                                                        <td><textarea id='@nameCol_Description' name='@nameCol_Description' rows="2" cols="2" class="cell-Input form-control inputLostFocus">@Model.listServiceRequestAssets[i].Description</textarea></td>
                                                                                                                        <td><textarea id='@nameCol_Beneficiaries' name='@nameCol_Beneficiaries' rows="2" cols="2" class="cell-Input form-control inputLostFocus">@Model.listServiceRequestAssets[i].Beneficiaries</textarea></td>
                                                                                                                        <td><textarea id='@nameCol_Administrators' name='@nameCol_Administrators' rows="2" cols="2" class="cell-Input form-control inputLostFocus">@Model.listServiceRequestAssets[i].Administrators</textarea></td>

                                                                                                                        <td><div class="btn_option pt-0"><a class="deleteRow" onclick="deleteRow('@i');"><i class="far fa-trash-alt"></i></a></div></td>
                                                                                                                    </tr>
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                    </tbody>
                                                                                                </table>

                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                    </div>

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="form-group">
                                                            <div class="control-label">Condición de herencia:</div>
                                                            @Html.TextAreaFor(model => model.LivT_InheritanceCondition, new { @class = "form-control", @rows = 5, @cols = 10 })
                                                            @Html.ValidationMessageFor(model => model.LivT_InheritanceCondition, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row mt-2 mb-2">
                                                    <div class="col-md-12 align-self-center">

                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="control-label">Agente responsable:</div>
                                                            </div>
                                                        </div>
                                                        <div class="row shadow-sm p-3 m-1 bg-white rounded">
                                                            <div class="col-md-6">
                                                                <div class="form-group">
                                                                    <div class="control-label">Principal:</div>
                                                                    @Html.TextBoxFor(model => model.LivT_ResponsibleAgent1, new { @class = "form-control", @maxlength = "200" })
                                                                    @Html.ValidationMessageFor(model => model.LivT_ResponsibleAgent1, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <div class="form-group">
                                                                    <div class="control-label">Secundario:</div>
                                                                    @Html.TextBoxFor(model => model.LivT_ResponsibleAgent2, new { @class = "form-control", @maxlength = "200" })
                                                                    @Html.ValidationMessageFor(model => model.LivT_ResponsibleAgent2, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <label>Autoriza a su agente responsable a tomar decisiones en caso de autopsia o disposición de sus restos?</label>
                                                                    @if (Model.LivT_AuthorizeRespAgent == null || Model.LivT_AuthorizeRespAgent == false)
                                                                    {
                                                                        <label class="ss_radioButton">
                                                                            Si
                                                                            @Html.RadioButtonFor(model => model.LivT_AuthorizeRespAgent, true)
                                                                            <span class="checkmark"></span>
                                                                        </label>
                                                                        <label class="ss_radioButton">
                                                                            No
                                                                            @Html.RadioButtonFor(model => model.LivT_AuthorizeRespAgent, false, new { @checked = "checked" })
                                                                            <span class="checkmark"></span>
                                                                        </label>
                                                                    }
                                                                    else
                                                                    {
                                                                        <label class="ss_radioButton">
                                                                            Si
                                                                            @Html.RadioButtonFor(model => model.LivT_AuthorizeRespAgent, true, new { @checked = "checked" })
                                                                            <span class="checkmark"></span>
                                                                        </label>
                                                                        <label class="ss_radioButton">
                                                                            No
                                                                            @Html.RadioButtonFor(model => model.LivT_AuthorizeRespAgent, false)
                                                                            <span class="checkmark"></span>
                                                                        </label>
                                                                    }
                                                                    @Html.ValidationMessageFor(model => model.LivT_AuthorizeRespAgent, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                                <br />

                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="form-group">
                                                            <label>En caso de enfermedad incurable e irreversible que provocara su muerte en corto tiempo, desea prolongar la vida?</label>
                                                            @if (Model.LivT_ProlongLife == null || Model.LivT_ProlongLife == false)
                                                            {
                                                                <label class="ss_radioButton">
                                                                    Si
                                                                    @Html.RadioButtonFor(model => model.LivT_ProlongLife, true)
                                                                    <span class="checkmark"></span>
                                                                </label>
                                                                <label class="ss_radioButton">
                                                                    No
                                                                    @Html.RadioButtonFor(model => model.LivT_ProlongLife, false, new { @checked = "checked" })
                                                                    <span class="checkmark"></span>
                                                                </label>
                                                            }
                                                            else
                                                            {
                                                                <label class="ss_radioButton">
                                                                    Si
                                                                    @Html.RadioButtonFor(model => model.LivT_ProlongLife, true, new { @checked = "checked" })
                                                                    <span class="checkmark"></span>
                                                                </label>
                                                                <label class="ss_radioButton">
                                                                    No
                                                                    @Html.RadioButtonFor(model => model.LivT_ProlongLife, false)
                                                                    <span class="checkmark"></span>
                                                                </label>
                                                            }
                                                            @Html.ValidationMessageFor(model => model.LivT_ProlongLife, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="form-group">
                                                            <label>Luego de su muerte, desea donar sus organos?</label>
                                                            @if (Model.LivT_DonateOrgans == null || Model.LivT_DonateOrgans == false)
                                                            {
                                                                <label class="ss_radioButton">
                                                                    Si
                                                                    @Html.RadioButtonFor(model => model.LivT_DonateOrgans, true, new { @id = "LivT_DonateOrgansSi" })
                                                                    <span class="checkmark"></span>
                                                                </label>
                                                                <label class="ss_radioButton">
                                                                    No
                                                                    @Html.RadioButtonFor(model => model.LivT_DonateOrgans, false, new { @id = "LivT_DonateOrgansNo", @checked = "checked" })
                                                                    <span class="checkmark"></span>
                                                                </label>
                                                            }
                                                            else
                                                            {
                                                                <label class="ss_radioButton">
                                                                    Si
                                                                    @Html.RadioButtonFor(model => model.LivT_DonateOrgans, true, new { @id = "LivT_DonateOrgansSi", @checked = "checked" })
                                                                    <span class="checkmark"></span>
                                                                </label>
                                                                <label class="ss_radioButton">
                                                                    No
                                                                    @Html.RadioButtonFor(model => model.LivT_DonateOrgans, false, new { @id = "LivT_DonateOrgansNo" })
                                                                    <span class="checkmark"></span>
                                                                </label>
                                                            }
                                                            @Html.ValidationMessageFor(model => model.LivT_DonateOrgans, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div id="divOrgans" class="col-md-4">
                                                        <div class="form-group">
                                                            <div class="control-label">Organos a Donar:</div>
                                                            @Html.TextAreaFor(model => model.LivT_Organs, new { @class = "form-control", @rows = 2, @cols = 4 })
                                                            @Html.ValidationMessageFor(model => model.LivT_Organs, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div id="divOrgansFor" class="col-md-6">
                                                        <div class="control-label">Finalidad:</div>
                                                        <div class="row">
                                                            <div class="col-md-3 s_Checkbox mt-0 mb-0">
                                                                @*@Html.TextBoxFor(model => model.LivT_OrganForTransplant, new { @type="checkbox", @id= "LivT_OrganForTransplant" })*@
                                                                @Html.CheckBoxFor(model => model.LivT_OrganForTransplant)
                                                                @Html.Label("LivT_OrganForTransplant", "Trasplante")
                                                            </div>
                                                            <div class="col-md-3 s_Checkbox mt-0 mb-0">
                                                                @*@Html.TextBoxFor(model => model.LivT_OrganForTherapy, new { @type = "checkbox", @id = "LivT_OrganForTherapy" })*@
                                                                @Html.CheckBoxFor(model => model.LivT_OrganForTherapy)
                                                                @Html.Label("LivT_OrganForTherapy", "Terapia")
                                                            </div>
                                                            <div class="col-md-3 s_Checkbox mt-0 mb-0">
                                                                @*@Html.TextBoxFor(model => model.LivT_OrganForEducation, new { @type = "checkbox", @id = "LivT_OrganForEducation" })*@
                                                                @Html.CheckBoxFor(model => model.LivT_OrganForEducation)
                                                                @Html.Label("LivT_OrganForEducation", "Educación")
                                                            </div>
                                                            <div class="col-md-3 s_Checkbox mt-0 mb-0">
                                                                @*@Html.TextBoxFor(model => model.LivT_OrganForInvestigation, new { @type = "checkbox", @id = "LivT_OrganForInvestigation" })*@
                                                                @Html.CheckBoxFor(model => model.LivT_OrganForInvestigation)
                                                                @Html.Label("LivT_OrganForInvestigation", "Investigación")
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="form-group">
                                                            <label>Tiene medico de cabecera?</label>
                                                            @if (string.IsNullOrEmpty(Model.LivT_GpNames) && string.IsNullOrEmpty(Model.LivT_GpPhoneNumber) && string.IsNullOrEmpty(Model.LivT_GpAddress))
                                                            {
                                                                <label class="ss_radioButton">
                                                                    Si
                                                                    @Html.RadioButton("btnRadioGP", true, new { @id = "btnRadioGPSi" })
                                                                    <span class="checkmark"></span>
                                                                </label>
                                                                <label class="ss_radioButton">
                                                                    No
                                                                    @Html.RadioButton("btnRadioGP", true, new { @id = "btnRadioGPNo", @checked = "checked" })
                                                                    <span class="checkmark"></span>
                                                                </label>
                                                            }
                                                            else
                                                            {
                                                                <label class="ss_radioButton">
                                                                    Si
                                                                    @Html.RadioButton("btnRadioGP", true, new { @id = "btnRadioGPSi", @checked = "checked" })
                                                                    <span class="checkmark"></span>
                                                                </label>
                                                                <label class="ss_radioButton">
                                                                    No
                                                                    @Html.RadioButton("btnRadioGP", true, new { @id = "btnRadioGPNo" })
                                                                    <span class="checkmark"></span>
                                                                </label>
                                                            }
                                                        </div>
                                                    </div>
                                                </div>
                                                <div id="divGPInformation" class="row">
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <div class="control-label">Nombre:</div>
                                                            @Html.TextBoxFor(model => model.LivT_GpNames, new { @class = "form-control", @maxlength = "200" })
                                                            @Html.ValidationMessageFor(model => model.LivT_GpNames, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <div class="control-label">Telefono:</div>
                                                            @Html.TextBoxFor(model => model.LivT_GpPhoneNumber, new { @class = "form-control", @maxlength = "100" })
                                                            @Html.ValidationMessageFor(model => model.LivT_GpPhoneNumber, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-5">
                                                        <div class="form-group">
                                                            <div class="control-label">Dirección:</div>
                                                            @Html.TextAreaFor(model => model.LivT_GpAddress, new { @class = "form-control", @rows = 2, @cols = 5, @maxlength = "500" })
                                                            @Html.ValidationMessageFor(model => model.LivT_GpAddress, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                </div>

                                                <br />
                                                <br />
                                                <div class="row pb-3">
                                                    <div class="col-md-12">
                                                        <div class="accordion border" id="accordionRemover">
                                                            <div class="card collapsed-card">
                                                                <div class="card-header p-0" id="headingRemover">
                                                                    <h2 class="mb-0">
                                                                        <button class="btn btn-link text-decoration-none" type="button" data-toggle="collapse" data-target="#collapseCardRemover" aria-expanded="false" aria-controls="collapseAssets">
                                                                            Respaldo de Datos a Eliminar
                                                                        </button>
                                                                    </h2>
                                                                </div>

                                                                <div id="collapseCardRemover" class="collapse" aria-labelledby="headingRemover" data-parent="#accordionRemover">

                                                                    <div class="card-body">

                                                                        <div class="row">
                                                                            <div class="col-md-12">
                                                                                <div class="form-group">
                                                                                    <div class="control-label">Que tipos de bienes desea agregar?</div>
                                                                                    @Html.TextAreaFor(model => model.Assets, new { @class = "form-control", @rows = 3, @cols = 10 })
                                                                                    @Html.ValidationMessageFor(model => model.Assets, "", new { @class = "text-danger" })
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="row">
                                                                            <div class="col-md-12">
                                                                                <div class="form-group">
                                                                                    <div class="control-label">Explicacion breve del proceso:</div>
                                                                                    @Html.TextAreaFor(model => model.Process, new { @class = "form-control", @rows = 3, @cols = 10 })
                                                                                    @Html.ValidationMessageFor(model => model.Process, "", new { @class = "text-danger" })
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="row">
                                                                            <div class="col-md-12">
                                                                                <div class="form-group">
                                                                                    <div class="control-label">Desea que:</div>
                                                                                    @Html.TextAreaFor(model => model.Wish, new { @class = "form-control", @rows = 3, @cols = 10 })
                                                                                    @Html.ValidationMessageFor(model => model.Wish, "", new { @class = "text-danger" })
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                    </div>

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <br />
                                                <br />
                                            </div>
                                            <div id="divInfoIncomeDebt">
                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <div class="control-label">Ingreso Promedio:</div>
                                                            @Html.TextBoxFor(model => model.MonthlyIncome, new { @class = "form-control text-right", @placeholder = "0.00" })
                                                            @Html.ValidationMessageFor(model => model.MonthlyIncome, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <div class="control-label">Deudas/Pagos Promedio:</div>
                                                            @Html.TextBoxFor(model => model.DebtPayment, new { @class = "form-control text-right", @placeholder = "0.00" })
                                                            @Html.ValidationMessageFor(model => model.DebtPayment, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div id="divInfoPitiRatio">
                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <div class="control-label">PITI:</div>
                                                            @Html.TextBoxFor(model => model.Piti, new { @class = "form-control text-right", @placeholder = "0.00" })
                                                            @Html.ValidationMessageFor(model => model.Piti, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <div class="control-label">RATIOS:</div>
                                                            @Html.TextBoxFor(model => model.Ratios, new { @class = "form-control text-right", @placeholder = "0.00" })
                                                            @Html.ValidationMessageFor(model => model.Ratios, "", new { @class = "text-danger" })
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            @*End - vistas por tipo de servicio*@

                                            <hr />
                                            <div class="row">
                                                <div class="col-md-5">
                                                    <div class="form-group">
                                                        <div class="control-label font-weight-bold" data-toggle="tooltip" data-placement="top" title="Vía por la cual el Cliente se enteró del Servicio.">Vía de Contacto:</div>
                                                        @Html.DisplayFor(model => model.ContactType)
                                                        @Html.HiddenFor(model => model.IdContactType)
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="form-group">
                                                        <div class="control-label">Notas:</div>
                                                        @Html.TextAreaFor(model => model.Note, new { @class = "form-control", @rows = 3, @cols = 10 })
                                                        @Html.ValidationMessageFor(model => model.Note, "", new { @class = "text-danger" })
                                                    </div>
                                                </div>
                                            </div>

                                            @*<div class="row pt-2 pb-3">

                                                <div class="col-md-12">

                                                    <div class="accordion border" id="accordionCita">
                                                        <div class="card collapsed-card">
                                                            <div class="card-header" id="headingCita">
                                                                <h2 class="mb-0">
                                                                    <button class="btn btn-link text-decoration-none" type="button" data-toggle="collapse" data-target="#collapseCardCita" aria-expanded="false" aria-controls="collapseCita">
                                                                        Cita
                                                                    </button>
                                                                </h2>
                                                            </div>

                                                            <div id="collapseCardCita" class="collapse" aria-labelledby="headingCita" data-parent="#accordionCita">

                                                                <div class="card-body">*@

                                                                    @*<div class="row">*@
                                                                        @*<div class="col-md-4">
                                                                            <div class="form-group">
                                                                                <div class="control-label">Prioridad:</div>
                                                                                <select id="lst_Priority" class="form-control" style="width: 100%;">
                                                                                </select>
                                                                                @Html.HiddenFor(model => model.listTask[0].IdPriority, new { @id = "inIdPriority" })
                                                                                @Html.ValidationMessageFor(model => model.listTask[0].IdPriority, "", new { @class = "text-danger" })
                                                                            </div>
                                                                        </div>*@

                                                                        @*<div class="col-md-4">
                                                                            <div class="form-group">
                                                                                <div class="control-label">Tipo:</div>
                                                                                <select id="lst_IdTypeTask" class="form-control" style="width: 100%;">
                                                                                </select>
                                                                                @Html.HiddenFor(model => model.listTask[0].IdTypeTask, new { @id = "inIdTypeTask" })
                                                                                @Html.ValidationMessageFor(model => model.listTask[0].IdTypeTask, "", new { @class = "text-danger" })
                                                                            </div>
                                                                        </div>*@

                                                                        @*<div class="col-md-4">
                                                                            <div class="form-group">
                                                                                <div class="control-label">Estado:</div>
                                                                                <select id="lst_IdStatus" class="form-control" style="width: 100%;">
                                                                                </select>
                                                                                @Html.HiddenFor(model => model.listTask[0].IdStatus, new { @id = "inIdStatus" })
                                                                                @Html.ValidationMessageFor(model => model.listTask[0].IdStatus, "", new { @class = "text-danger" })
                                                                            </div>
                                                                        </div>*@

                                                                    @*</div>*@

                                                                    @*<div class="row">*@
                                                                        <!--<div class="col-md-3">
                                                                            <div class="form-group">
                                                                                <label>Representante:</label><br>
                                                                                <select class="select2" onchange="filtrarEmployee(this.value)" id="filtroEmployee" data-placeholder="Seleccionar" name="listTask[0].IdPersonEmployee"></select>-->
                                                                                @*@Html.TextBoxFor(model => model.listTask[0].IdPersonEmployee, new { @id = "searchEmployee", @name = "listTask[0].IdPersonEmployee", @class = "form-control", @placeholder = "Seleccione" })*@
                                                                                @*@Html.ValidationMessageFor(model => model.listTask[0].IdPersonEmployee, "", new { @class = "text-danger" })*@
                                                                                <!--@Html.HiddenFor(model => model.listTask[0].IdTask)
                                                                            </div>
                                                                        </div>-->
                                                                        @*<div class="col-md-3">
                                                                            <div class="form-group">
                                                                                <div class="control-label">Nombres:</div>
                                                                                <label id="lbPersonEmployeeName"></label>
                                                                            </div>
                                                                        </div>*@
                                                                        @*<div class="col-md-3">
                                                                            <div class="form-group">
                                                                                <div class="control-label">Apellidos:</div>
                                                                                <label id="lbPersonEmployeeLastName"></label>
                                                                            </div>
                                                                        </div>*@
                                                                        @*<div class="col-md-3">
                                                                            <div class="form-group">
                                                                                <div class="control-label">Actividad a realizar:</div>
                                                                                @Html.TextAreaFor(model => model.listTask[0].Tittle, new { @class = "form-control", @rows = 3, @cols = 10 })
                                                                                @Html.ValidationMessageFor(model => model.listTask[0].Tittle, "", new { @class = "text-danger" })
                                                                            </div>
                                                                        </div>*@
                                                                    @*</div>*@
                                                                    @*<div class="row">*@
                                                                        @*<div class="col-md-3">
                                                                            <div class="form-group">
                                                                                <div class="control-label">Fecha:</div>
                                                                                @Html.TextBoxFor(model => model.listTask[0].DateIni, "{0:d}", new { @class = "form-control", @type = "date", @id = "dttDateIni" })
                                                                                @Html.ValidationMessageFor(model => model.listTask[0].DateIni, "", new { @class = "text-danger" })
                                                                            </div>
                                                                        </div>*@
                                                                        @*<div class="col-md-3">
                                                                            <div class="form-group">
                                                                                <div class="control-label">Hora:</div>
                                                                                @Html.TextBoxFor(model => model.listTask[0].HourIni, new { @class = "form-control", @type = "time" })
                                                                                @Html.ValidationMessageFor(model => model.listTask[0].HourIni, "", new { @class = "text-danger" })
                                                                            </div>
                                                                        </div>*@
                                                                        @*<div class="col-md-6">
                                                                            <div class="form-group">
                                                                                <div class="control-label">Lugar:</div>
                                                                                @Html.TextAreaFor(model => model.listTask[0].Place, new { @class = "form-control", @rows = 3, @cols = 10 })
                                                                                @Html.ValidationMessageFor(model => model.listTask[0].Place, "", new { @class = "text-danger" })
                                                                            </div>
                                                                        </div>*@
                                                                    @*</div>*@

                                                                @*</div>

                                                            </div>
                                                        </div>
                                                    </div>*@

                                                @*</div>*@

                                            @*</div>*@

                                        </div>

                                    </div>
                                </div>
                            </div>


                        </div>

                    </div>

                    <br>
                    <br>

                    <div class="row">
                        <div class="col-md-offset-2 col-md-10">
                            <div class="form-group">
                                <div class="text-center">
                                    @*<a href="location.href='@Url.Action("Create", "ServiceRequest")';return false;" class="white_btn">Grabar</a>*@
                                    <button class="white_btn" type="submit">Grabar</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-10 text-center">
                            @*<span class="text-success">@ViewBag.SuccessSave</span>*@
                            @*<span class="text-danger">@ViewBag.ErrorSave</span>*@
                        </div>
                    </div>

                </div>
            </div>

        }

        <div>
            @Html.ActionLink("Regresar a la Lista", "ListServiceRequest")
        </div>

    </div>
</div>

@section Scripts {

    <script src="~/Content/assets/plugins/datatables/jquery.dataTables.min.js"></script>
    <script src="~/Content/assets/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
    <script src="~/Content/assets/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
    <script src="~/Content/assets/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
    <script src="~/Content/assets/plugins/datatables-buttons/js/dataTables.buttons.min.js"></script>
    <script src="~/Content/assets/plugins/datatables-buttons/js/buttons.bootstrap4.min.js"></script>
    <script src="~/Content/assets/plugins/datatables-buttons/js/buttons.html5.min.js"></script>
    <script src="~/Content/assets/plugins/datatables-buttons/js/buttons.print.min.js"></script>
    <script src="~/Content/assets/plugins/datatables-buttons/js/buttons.colVis.min.js"></script>
    <script src="~/Content/assets/plugins/datatables-buttons/js/buttons.colVis.min.js"></script>

    <script type="text/javascript">

        var ListPersonsEmployee = [];


        //EMPLEADO--------------------------------------------------------------------------------

        //function filtrarEmployee(Employee) {
        //    /*debugger;*/
        //    var SelecCodeValue = Employee.trim();
        //    cargarDataPersonEmployee(SelecCodeValue, ListPersonsEmployee);
        //}

        //function cargarDataPersonEmployee(IdPersonEmployee, lstPersonsEmployee) {

        //    if (IdPersonEmployee === "" || IdPersonEmployee === "0") {
        //        document.getElementById('lbPersonEmployeeName').innerText = "";
        //        document.getElementById('lbPersonEmployeeLastName').innerText = "";
        //        return false;
        //    }

        //    if (IdPersonEmployee != undefined) {
        //        var objPerson = lstPersonsEmployee.find((m) => m.IdPerson == IdPersonEmployee);

        //        document.getElementById('lbPersonEmployeeName').innerText = objPerson.Name;
        //        document.getElementById('lbPersonEmployeeLastName').innerText = objPerson.LastName;
        //    }

        //}


        @*function ObtenerPersonasEmployee() {

            $.ajax({
                type: "GET",
                url: '@Url.Action("GetListPerson", "Person")?idPersonType=2&PersonStatus=true',
                data: "{}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                //global: false,
                //async: false,
                success: function (data) {
                    var itemArray = {};
                    itemArray.IdPerson = "";
                    itemArray.LastName = "";
                    itemArray.Name = "";
                    itemArray.NumIdentification = "";
                    data.push(itemArray);
                    data.reverse();
                    ListPersonsEmployee = data;

                    if (ListPersonsEmployee.length > 0) {

                        var employee = $("#filtroEmployee")[0];

                        for (i = 0; i < ListPersonsEmployee.length; i++) {

                            if (ListPersonsEmployee[i].IdPerson != "" && ListPersonsEmployee[i].LastName != "") {
                                var Name = " ";
                                if (ListPersonsEmployee[i].Name != "") {
                                    Name = " " + ListPersonsEmployee[i].Name;
                                }

                                employee[i + 1] = new Option(ListPersonsEmployee[i].NumIdentification + " - " + ListPersonsEmployee[i].LastName + Name, ListPersonsEmployee[i].IdPerson, "", "");

                            }

                        }

                        employee.value = "@Model.listTask[0].IdPersonEmployee";
                        filtrarEmployee("@Model.listTask[0].IdPersonEmployee");
                    }
                }
            });
        }
        ObtenerPersonasEmployee();*@

        //$('#searchEmployee').inputpicker({
        //    data: ListPersonsEmployee,
        //    fields: ['Name', 'LastName'],
        //    fieldText: 'Name',
        //    fieldValue: 'IdPerson',
        //    headShow: true,
        //    filterOpen: true,
        //    selectMode: null,
        //    pagination: false,
        //    responsive: true
        //});
        //$('#searchEmployee').val("");
        //FIN EMPLEADO---------------------------------------------------------------------------

        function showServiceType(strDescServiceType) {

            switch (strDescServiceType) {
                case "Compras":

                    $("#divInfoProperty").show();
                    $("#divEstimatedValue").hide();
                    //vistas parciales---------------------
                    $("#serviceCompras").show();
                    $("#serviceConstruccionPlanos").hide();
                    $("#serviceRefinanciamiento").hide();
                    $("#serviceLivingTrust").hide();
                    //-------------------------------------
                    $("#divInfoIncomeDebt").show();
                    $("#divInfoPitiRatio").show();
                    break;

                case "Planos":
                case "Construcción":

                    $("#divInfoProperty").show();
                    $("#divEstimatedValue").show();
                    //vistas parciales---------------------
                    $("#serviceCompras").hide();
                    $("#serviceConstruccionPlanos").show();
                    $("#serviceRefinanciamiento").hide();
                    $("#serviceLivingTrust").hide();
                    //-------------------------------------
                    $("#divInfoIncomeDebt").show();
                    $("#divInfoPitiRatio").hide();
                    break;

                case "Refinanciamiento":

                    $("#divInfoProperty").show();
                    $("#divEstimatedValue").show();
                    //vistas parciales---------------------
                    $("#serviceCompras").hide();
                    $("#serviceConstruccionPlanos").hide();
                    $("#serviceRefinanciamiento").show();
                    $("#serviceLivingTrust").hide();
                    //-------------------------------------
                    $("#divInfoIncomeDebt").show();
                    $("#divInfoPitiRatio").show();
                    break;

                case "Living Trust":

                    $("#divInfoProperty").hide();
                    $("#divEstimatedValue").hide();
                    //vistas parciales---------------------
                    $("#serviceCompras").hide();
                    $("#serviceConstruccionPlanos").hide();
                    $("#serviceRefinanciamiento").hide();
                    $("#serviceLivingTrust").show();
                    //-------------------------------------
                    $("#divInfoIncomeDebt").hide();
                    $("#divInfoPitiRatio").hide();

                    //Living Trust no requiere tipo de propiedad
                    $("#inpIdPropertyType").val("");
                    break;

                default:

                    $("#divInfoProperty").hide();
                    $("#divEstimatedValue").hide();
                    //vistas parciales-------------------
                    $("#serviceCompras").hide();
                    $("#serviceConstruccionPlanos").hide();
                    $("#serviceRefinanciamiento").hide();
                    $("#serviceLivingTrust").hide();
                    //-----------------------------------
                    $("#divInfoIncomeDebt").hide();
                    $("#divInfoPitiRatio").hide();
                    break;
            };
        }

        function changeCodeInputHiddenList(idDropDownList, idInputHidden, valCode) {

            if (valCode === "") {

                var CodeAntSelected = document.getElementById(idInputHidden).value;

                if (CodeAntSelected != "") {
                    $("#" + idDropDownList + " option[value='" + CodeAntSelected + "']").attr("selected", true);
                    $("#" + idInputHidden).val(CodeAntSelected);
                }
                else {
                    var CodeActual = $("#" + idDropDownList).val();
                    $("#" + idInputHidden).val(CodeActual);
                }

            }
            else {
                $("#" + idInputHidden).val(valCode);
            }

        }


        function deleteRowConstructionOption(id) {
            var controlToBeRemoved = "#trConstructionOption" + id;
            $(controlToBeRemoved).remove();
        }

        function addRowConstructionOption() {


            @{
                Model.listConstructionOption.Add(new MServiceConstructionOption());
            }

            //obtenemos los valores a insertar
            var strIdConstructionOption = $("#lst_ConstructionOption").val();
            var strConstructionOption = $('select[id="lst_ConstructionOption"] option:selected').text();

            if (strIdConstructionOption != "") {

                //-------------------------

                var index = document.getElementById('TConstructionOption').rows.length;
                //alert(index);

                var colHid_indexCell = "<td style='display:none'><input name='listConstructionOption.Index' type = 'hidden' value = '" + index + "' /></td > ";
                var colHid_IdConstructionOption = "<td style='display:none'><input id='listConstructionOption_" + index + "' name = 'listConstructionOption[" + index + "].IdConstructionOption' type='hidden' value='" + strIdConstructionOption + "' /></td> ";
                var colHid_ConstructionOption = "<td style='display:none'><input id='listConstructionOption_" + index + "' name = 'listConstructionOption[" + index + "].ConstructionOption' type = 'hidden' value = '" + strConstructionOption + "' /></td> ";

                var colIdConstructionOption = "<td>" + strIdConstructionOption + "</td> ";
                var colConstructionOption = "<td name='ConstOption'>" + strConstructionOption + "</td> ";
                var colDelete = "<td><div class='btn_option pt-0'><a onclick='deleteRowConstructionOption(" + index + ");'><i class='far fa-trash-alt'></i></a></div></td> ";

                //Busca si la operacion de construccion ya existe para no duplicar
                var isFound = doSearchConstructionOption(strConstructionOption, "ConstOption", 'TConstructionOption');

                if (!isFound) {

                    //insertamos los valores en la tabla
                    var newRow = "<tr id='trConstructionOption" + index + "'>" +
                        colHid_indexCell + colHid_IdConstructionOption + colHid_ConstructionOption +
                        colIdConstructionOption + colConstructionOption + colDelete + "</tr>";

                    $("#TConstructionOption").append(newRow);

                    //--------------------------

                    //limpiamos los valores ya agregados
                    document.getElementById('lst_ConstructionOption').value = "";
                }

            }

        }

        function doSearchConstructionOption(searchText, colName, tableName) {

            const tableReg = document.getElementById(tableName);
            //const tableReg = document.getElementById('TConstructionOption');
            let position = 0;
            let found = false;

            // Recorremos todas las filas con contenido de la tabla
            for (let i = 1; i < tableReg.rows.length; i++) {

                const cellsOfRow = tableReg.rows[i].getElementsByTagName('td');
                let searchCol = colName; //+ i.toString();
                const compareWith = cellsOfRow[searchCol].innerHTML.toLowerCase();

                // Buscamos el texto en el contenido de la celda y capturamos la posicion de la fila
                if (compareWith.indexOf(searchText.toLowerCase()) > -1) {
                    found = true;
                    position = i;
                    break;
                }

            }
            //si lo encontro, se elimina
            //if (found) {
            //    //document.getElementById('TConstructionOption').deleteRow(position);
            //    document.getElementById(tableName).deleteRow(position);
            //}

            return found;
        }

        function fillServiceStatus(IdServiceType) {

            document.querySelector('#lst_ServiceStatus').innerHTML = '';
            $.ajax({
                type: "GET",
                //url: 'Url.Action("GetTableCatalog", "TableCatalog")?idTable=' + "SERVICESTATUS",
                url: '@Url.Action("GetListStatusServiceType", "StatusServiceType")?IdServiceType=' + IdServiceType,
                data: "{}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {

                    var option = $(document.createElement('option'));
                    option.text("Seleccione");
                    option.val("0");
                    $("#lst_ServiceStatus").append(option);

                    $(msg).each(function () {
                        var option = $(document.createElement('option'));
                        option.text(this.Description);
                        option.val(this.IdCatalogDetail); //Identity

                        $("#lst_ServiceStatus").append(option);
                    });

                    document.getElementById('lst_ServiceStatus').value = "0";

                    changeCodeInputHiddenList("lst_ServiceStatus", "inpIdServiceStatus", "");
                },
                error: function (msg) {
                    $("#error > span").text("Error al llenar lista de Estados de por tipo de Servicio");
                }

            });

        }

        //Funciones para tabla de Bienes a incluir:
            function deleteRow(id){
                var idTrRow = '#trAssets' + id;
                var idTdStatus = 'listServiceRequestAssets[' + id + '].Status';

                document.getElementById('' + idTdStatus + '').value = "false";
                $(idTrRow).hide();
            }

            function addRow(){

                @{
                    Model.listServiceRequestAssets.Add(new MServiceRequestAssets());
                }

                //obtenemos los valores a insertar
                var strIdAsset = "0";
                var strIdServiceRequest = $("#IdServiceRequest").val();
                var strIdAssetsType = $("#lst_Assets").val();
                var strAssetsType = $('select[id="lst_Assets"] option:selected').text();
                var strDescription = $("#txtDescription").val();
                var strBeneficiaries = $("#txtBeneficiaries").val();
                var strAdministrators = $("#txtAdministrators").val();
                var strStatus = "true";


                if (strDescription.trim() != "") {

                    var index = document.getElementById('TAssets').rows.length;

                    var colHid_indexCell = "<td style='display:none'><input name='listServiceRequestAssets.Index' type = 'hidden' value = '" + index + "' /></td > ";
                    var colHid_IdAsset = "<td style='display:none'><input id='listServiceRequestAssets[" + index + "].IdAsset' name = 'listServiceRequestAssets[" + index + "].IdAsset' type = 'hidden' value = '" + strIdAsset + "' /></td> ";
                    var colHid_IdServiceRequest = "<td style='display:none'><input id='listServiceRequestAssets[" + index + "].IdServiceRequest' name = 'listServiceRequestAssets[" + index + "].IdServiceRequest' type='hidden' value='" + strIdServiceRequest + "' /></td> ";
                    var colHid_IdAssetsType = "<td style='display:none'><input id='listServiceRequestAssets[" + index + "].IdAssetsType' name = 'listServiceRequestAssets[" + index + "].IdAssetsType' type='hidden' value='" + strIdAssetsType + "' /></td> ";
                    var colHid_AssetsType = "<td style='display:none'><input id='listServiceRequestAssets[" + index + "].AssetsType' name = 'listServiceRequestAssets[" + index + "].AssetsType' type='hidden' value='" + strAssetsType + "' /></td> ";
                    var colHid_Status = "<td style='display:none'><input id='listServiceRequestAssets[" + index + "].Status' name = 'listServiceRequestAssets[" + index + "].Status' type = 'hidden' value = '" + strStatus + "' /></td> ";

                    var colAssetsType = "<td>" + strAssetsType + "</td> ";
                    var colDescription = "<td><textarea id='listServiceRequestAssets[" + index + "].Description' name = 'listServiceRequestAssets[" + index + "].Description' rows='2' cols='2'  class = 'cell-Input form-control inputLostFocus'>" + strDescription + "</textarea></td> ";
                    var colBeneficiaries = "<td><textarea id='listServiceRequestAssets[" + index + "].Beneficiaries' name = 'listServiceRequestAssets[" + index + "].Beneficiaries' rows='2' cols='2'  class = 'cell-Input form-control inputLostFocus'>" + strBeneficiaries + "</textarea></td> ";
                    var colAdministrators = "<td><textarea id='listServiceRequestAssets[" + index + "].Administrators' name = 'listServiceRequestAssets[" + index + "].Administrators' rows='2' cols='2'  class = 'cell-Input form-control inputLostFocus'>" + strAdministrators + "</textarea></td> ";

                    var colDelete = "<td><div class='btn_option pt-0'><a class='deleteRow' onclick='deleteRow(" + index + ");'><i class='far fa-trash-alt'></i></a></div></td> ";

                    //insertamos los valores en la tabla
                    var newRow = "<tr id='trAssets" + index + "'>" +
                        colHid_indexCell + colHid_IdAsset + colHid_IdServiceRequest + colHid_IdAssetsType + colHid_AssetsType +
                        colHid_Status + colAssetsType + colDescription + colBeneficiaries + colAdministrators +
                        colDelete + "</tr>";
                    $("#TAssets").append(newRow);
                    //--------------------------

                    //limpiamos los valores ya agregados
                    document.getElementById('lst_Assets').value = "";
                    document.getElementById('txtDescription').value = "";
                    document.getElementById('txtBeneficiaries').value = "";
                    document.getElementById('txtAdministrators').value = "";
                }

            }
        //-----------------------------------------

        $(document).ready(function () {

            //Validacion de fecha--------------------------------------------
            //var today = new Date();
            //var dd = today.getDate();
            //var mm = today.getMonth() + 1; //January is 0!
            //var yyyy = today.getFullYear();
            //if (dd < 10) {
            //    dd = '0' + dd
            //}
            //if (mm < 10) {
            //    mm = '0' + mm
            //}

            //today = yyyy + '-' + mm + '-' + dd;
            //document.getElementById("dttDateIni").setAttribute("min", today);
            //----------------------------------------------------------------

            //Mensaje de confirmacion--------------------
            if ("@ViewBag.SuccessSave"!=""){
                toastr.success("@ViewBag.SuccessSave");
            }
            if ("@ViewBag.ErrorSave" != ""){
                toastr.error("@ViewBag.ErrorSave");
            }
            //-------------------------------------------


            showServiceType('@Html.Raw(Model.ServiceType)');

            $('#EstimatedValue').inputmask("decimal");
            $('#Price').inputmask("decimal");
            $('#DownPayment').inputmask("decimal");
            $('#ClosingCost').inputmask("decimal");
            $('#LoanAmount').inputmask("decimal");
            $('#CurrentDebt').inputmask("decimal");
            $('#MonthlyIncome').inputmask("decimal");
            $('#DebtPayment').inputmask("decimal");
            $('#Piti').inputmask("decimal");
            $('#Ratios').inputmask("decimal");

            $('.select2').select2({ width: '100%' });

            //EMPLEADO INPUTPICKER
            //$("#searchEmployee").on('change', function () {
            //    var IdPersonEmployee = $(this).val();
            //    cargarDataPersonEmployee(IdPersonEmployee, ListPersonsEmployee)
            //});
            //cargarDataPersonEmployee($("#searchEmployee").val(), ListPersonsEmployee);

            /* estados segun tipo de servicio */
            var selectServiceType = $("#IdServiceType").val();
            fillServiceStatus(selectServiceType);
            /* -----------------------   */

            //Assets marcados para eliminar no se muestran
            $('#TAssets tbody tr').each(function () {
                var cell = this.querySelector('td input[name*=Status]');
                var isVisible = cell.value;
                if (isVisible === "false") {
                    $(this).hide();
                }
            })
            //-------------------------------------------

            $("#lst_ServiceStatus").on('change', function () {
                var selectValue = $(this).val();
                changeCodeInputHiddenList("lst_ServiceStatus", "inpIdServiceStatus", selectValue);
            });


        //Begin - Eventos de vistas parciales

            // If the checkbox is checked, display the output text
            if ($('#btnRadioSI').is(":checked") == true) {
                $("#divLivT_Beneficiaries").show();
            } else {
                $("#divLivT_Beneficiaries").hide();
            }

            $("#btnRadioSI").on('click', function () {

                var IsSelected = $('#btnRadioSI').is(":checked");
                // If the checkbox is checked, display the output text
                if (IsSelected == true) {
                    $("#divLivT_Beneficiaries").show();
                }

            });
            $("#btnRadioNO").on('click', function () {

                var IsSelected = $('#btnRadioNO').is(":checked");
                // If the checkbox is checked, display the output text
                if (IsSelected == true) {
                    $("#LivT_Beneficiaries").val("");
                    $("#divLivT_Beneficiaries").hide();
                }

            });


            // If the checkbox is checked, display the output text
            if ($('#btnRadioGPSi').is(":checked") == true) {
                $("#divGPInformation").show();
            } else {
                $("#divGPInformation").hide();
            }

            $("#btnRadioGPSi").on('click', function () {

                var IsSelected = $('#btnRadioGPSi').is(":checked");
                // If the checkbox is checked, display the output text
                if (IsSelected == true) {
                    $("#divGPInformation").show();
                }

            });
            $("#btnRadioGPNo").on('click', function () {

                var IsSelected = $('#btnRadioGPNo').is(":checked");
                // If the checkbox is checked, display the output text
                if (IsSelected == true) {
                    $("#LivT_GpNames").val("");
                    $("#LivT_GpPhoneNumber").val("");
                    $("#LivT_GpAddress").val("");
                    $("#divGPInformation").hide();
                }

            });


            // If the checkbox is checked, display the output text
            if ($('#LivT_DonateOrgansSi').is(":checked") == true) {
                $("#divOrgans").show();
                $("#divOrgansFor").show();
            } else {
                $("#divOrgans").hide();
                $("#divOrgansFor").hide();
            }

            $("#LivT_DonateOrgansSi").on('click', function () {

                var IsSelected = $('#LivT_DonateOrgansSi').is(":checked");
                // If the checkbox is checked, display the output text
                if (IsSelected == true) {
                    $("#divOrgans").show();
                    $("#divOrgansFor").show();
                }

            });
            $("#LivT_DonateOrgansNo").on('click', function () {

                var IsSelected = $('#LivT_DonateOrgansNo').is(":checked");
                // If the checkbox is checked, display the output text
                if (IsSelected == true) {
                    $("#LivT_Organs").val("");
                    document.getElementById("LivT_OrganForTransplant").checked = false;
                    document.getElementById("LivT_OrganForTherapy").checked = false;
                    document.getElementById("LivT_OrganForEducation").checked = false;
                    document.getElementById("LivT_OrganForInvestigation").checked = false;
                    $("#divOrgans").hide();
                    $("#divOrgansFor").hide();
                }

            });


            $("#lst_PropertyType").on('change', function () {
                var selectValue = $(this).val();
                changeCodeInputHiddenList("lst_PropertyType", "inpIdPropertyType", selectValue);
            });
            $.ajax({
                type: "GET",
                url: '@Url.Action("GetTableCatalog", "TableCatalog")?idTable='+"PROPERTYTYPE",
                data: "{}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {

                    var option = $(document.createElement('option'));
                    option.text("Seleccione");
                    option.val("0");
                    $("#lst_PropertyType").append(option);

                    $(msg).each(function () {
                        var option = $(document.createElement('option'));
                        option.text(this.DetailDesc);
                        option.val(this.IdCatalogDetail); //Identity

                        $("#lst_PropertyType").append(option);
                    });

                    document.getElementById('lst_PropertyType').value = "0";

                    changeCodeInputHiddenList("lst_PropertyType", "inpIdPropertyType", "");
                },
                error: function (msg) {
                    $("#error > span").text("Error al llenar lista de tipos de propiedad");
                }

            });

            $.ajax({
                type: "GET",
                url: '@Url.Action("GetTableCatalog", "TableCatalog")?idTable='+"CONSTRUCTIONOPTION",
                data: "{}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {

                    var option = $(document.createElement('option'));
                    option.text("Seleccione");
                    option.val("");
                    $("#lst_ConstructionOption").append(option);

                    $(msg).each(function () {
                        var option = $(document.createElement('option'));
                        option.text(this.DetailDesc);
                        option.val(this.IdCatalogDetail); //Identity

                        $("#lst_ConstructionOption").append(option);
                    });

                    document.getElementById('lst_ConstructionOption').value = "";
                },
                error: function (msg) {
                    $("#error > span").text("Error al llenar lista de Opciones de Construccion");
                }


            });

            $.ajax({
                type: "GET",
                url: '@Url.Action("GetTableCatalog", "TableCatalog")?idTable='+"ASSETSTYPE",
                data: "{}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {

                    var option = $(document.createElement('option'));
                    option.text("Seleccione");
                    option.val("");
                    $("#lst_Assets").append(option);

                    $(msg).each(function () {
                        var option = $(document.createElement('option'));
                        option.text(this.DetailDesc);
                        option.val(this.IdCatalogDetail); //Identity

                        $("#lst_Assets").append(option);
                    });

                    document.getElementById('lst_Assets').value = "";
                },
                error: function (msg) {
                    $("#error > span").text("Error al llenar lista de Tipos de Bienes");
                }

            });


        //End - Eventos de vistas parciales

            // $("#lst_Priority").on('change', function () {
            //    var selectValue = $(this).val();
            //    //$("#inpIdIdentificationType").val(selectValue);
            //    changeCodeInputHiddenList("lst_Priority", "inIdPriority", selectValue);
            //});

            //$("#lst_IdStatus").on('change', function () {
            //    var selectValue = $(this).val();
            //    //$("#inpIdIdentificationType").val(selectValue);
            //    changeCodeInputHiddenList("lst_IdStatus", "inIdStatus", selectValue);
            //});

            //$("#lst_IdTypeTask").on('change', function () {
            //    var selectValue = $(this).val();
            //    //$("#inpIdIdentificationType").val(selectValue);
            //    changeCodeInputHiddenList("lst_IdTypeTask", "inIdTypeTask", selectValue);
            //});

            @*$.ajax({
                type: "GET",
                url: '@Url.Action("GetTableCatalog", "TableCatalog")?idTable=' +"PRIORITYTASK",
                data: "{}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {

                    var option = $(document.createElement('option'));
                    option.text("Seleccione");
                    option.val("0");
                    $("#lst_Priority").append(option);

                    $(msg).each(function () {
                        var option = $(document.createElement('option'));

                        option.text(this.DetailDesc);
                        option.val(this.IdCatalogDetail); //Identity

                        $("#lst_Priority").append(option);
                    });

                    document.getElementById('lst_Priority').value = "0";

                    changeCodeInputHiddenList("lst_Priority", "inIdPriority", "");

                },
                error: function (msg) {
                    $("#error > span").text("Error al llenar lista de prioridad");
                }

            });*@

            @*$.ajax({
                type: "GET",
                 url: '@Url.Action("GetTableCatalog", "TableCatalog")?idTable=' +"STATETASK",
                data: "{}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {

                    var option = $(document.createElement('option'));
                    option.text("Seleccione");
                    option.val("0");
                    $("#lst_IdStatus").append(option);

                    $(msg).each(function () {
                        var option = $(document.createElement('option'));

                        option.text(this.DetailDesc);
                        option.val(this.IdCatalogDetail); //Identity

                        $("#lst_IdStatus").append(option);
                    });

                    document.getElementById('lst_IdStatus').value = "0";

                    changeCodeInputHiddenList("lst_IdStatus", "inIdStatus", "");

                },
                error: function (msg) {
                    $("#error > span").text("Error al llenar lista de Estado");
                }

            });*@

            @*$.ajax({
                type: "GET",
                 url: '@Url.Action("GetTableCatalog", "TableCatalog")?idTable=' +"TYPETASK",
                data: "{}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {

                    var option = $(document.createElement('option'));
                    option.text("Seleccione");
                    option.val("0");
                    $("#lst_IdTypeTask").append(option);

                    $(msg).each(function () {
                        var option = $(document.createElement('option'));

                        option.text(this.DetailDesc);
                        option.val(this.IdCatalogDetail); //Identity

                        $("#lst_IdTypeTask").append(option);
                    });

                    document.getElementById('lst_IdTypeTask').value = "0";

                    changeCodeInputHiddenList("lst_IdTypeTask", "inIdTypeTask", "");

                },
                error: function (msg) {
                    $("#error > span").text("Error al llenar lista de Tipos de tarea");
                }

            });*@

            function changeCodeInputHiddenList(idDropDownList, idInputHidden, valCode) {
                //debugger;
                if (valCode === "") {

                    var CodeAntSelected = document.getElementById(idInputHidden).value;

                    if (CodeAntSelected != "") {
                        $("#" + idDropDownList + " option[value='" + CodeAntSelected + "']").attr("selected", true);
                        $("#" + idInputHidden).val(CodeAntSelected);
                    }
                    else {
                        var CodeActual = $("#" + idDropDownList).val();
                        $("#" + idInputHidden).val(CodeActual);
                    }

                }
                else {
                    $("#" + idInputHidden).val(valCode);
                }

            }
        });

    </script>

}





